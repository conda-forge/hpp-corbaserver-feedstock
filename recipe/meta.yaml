{% set name = "hpp-corbaserver" %}
{% set version = "4.13.0" %}

package:
  name: {{ name }}
  version: {{ version }}

source:
  url: https://github.com/humanoid-path-planner/{{ name }}/releases/download/v{{ version }}/{{ name }}-{{ version }}.tar.gz
  sha256: bef1336374438ec24475054a5ee184d286be239b59ed6cb90099d0c2cc1322e6

build:
  number: 0
  skip: true  # [win]
  run_exports:
    - {{ pin_subpackage(name|lower, max_pin='x.x') }}

requirements:
  build:
    - {{ compiler('cxx') }}
    - cmake
    - make
    - pkg-config
    - doxygen
  host:
    - boost
    - boost-cpp
    - tinyxml
    - hpp-fcl
    - hpp-util
    - hpp-statistics
    - hpp-pinocchio
    - hpp-constraints
    - hpp-core
    - hpp-template-corba
    - omniorb
    - omniorbpy
    - python
  run:
    - boost
    - boost-cpp
    - tinyxml
    - omniorb
    - omniorbpy
    - numpy
    - python

test:
  requires:
    - pkg-config
  commands:
    - pkg-config --modversion {{ name }}
    - test -f $PREFIX/lib/lib{{ name }}${SHLIB_EXT}  # [unix]
  imports:
    - hpp

about:
  home: https://github.com/humanoid-path-planner/{{ name }}
  license: LGPL-3.0-or-later
  license_file: COPYING
  summary: {{ name }} subpackage of Humanoid Path Planner suite
  description: |
    HPP (Humanoid Path Planner) is a collection of software packages implementing
    path planning functionalities for a humanoid robot. The core functionalities are well
    suited to solve classical path planning problems. It can be extended to path planning
    for other types of robots like digital actors for instance.
  doc_url: https://gepettoweb.laas.fr/hpp/hpp-doc/doxygen-html/index.html
  dev_url: https://github.com/humanoid-path-planner/{{ name }}

extra:
  recipe-maintainers:
    - ymontmarin
